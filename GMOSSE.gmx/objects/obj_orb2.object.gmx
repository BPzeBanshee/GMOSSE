<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_orb2</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>1</depth>
  <persistent>0</persistent>
  <parentName>obj_en_parent</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>// Compulsory (health etc)
enemyHP = 400;
enemyHP_max = enemyHP; 
flash = 0;
z = 128;

// Attack pattern variables
move_timer = 0; 
spd = 3;

attack3_timer = 30;
attack3_end = 0;
attack4_timer = 30;
insaneattack = 1;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>// Movement-related
move_timer+=1;
if move_timer = 30 
    {
    direction = 270; 
    speed = 5; 
    }
if move_timer &gt; 30 then direction += 5;
    
// **************Attack Patterns***********
if instance_exists(obj_boss) then switch obj_boss.mode
    {
    case 4: // ##ATTACK PHASE 4##
        {
        attack4_timer -= 1;
        //if attack4_timer &lt;= 5 then 
        
        if attack4_timer &lt;= 5
            {
            scr_circleattack(40,x,y,0,obj_bullet4,obj_hitbox,4,false);
            scr_playsnd(snd_en_shot3,1);
            }
        if attack4_timer = 0 then attack4_timer = 30;
        }
    /* 
    You'd normally add a 'break;' here, and not switch the case number around, but for 
    this special case I want this orb's fourth attack pattern to run if the attack 
    pattern is at 4 OR 3.1, so without the break here as it is arranged Game Maker 
    will ignore this till the attack pattern is set to 4 and will still run attack 
    pattern 3.1 if it hasnt already.
    This is to make attack pattern 3.1 work when the purple orb is spawned even
    if the green orb has already been killed off by a powerful weapon, and the old code
    behaved in a similar manner (albeit by accident at the time, this is deliberate).
    */
    case 3.1: // ##ATTACK PHASE 3.1##
        {
        if attack3_end = 1 then break;
        if move_timer = 30 then attack3_timer = 120; 
        if move_timer &gt; 30 then attack3_timer -= 1; 
        if attack3_timer &lt; 8
            {
            point = point_direction(x,y,obj_hitbox.x,obj_hitbox.y);
            scr_basicshot(x,y,obj_bullet3,0,point);
            scr_basicshot(x,y,obj_bullet3,0,point+20);
            scr_basicshot(x,y,obj_bullet3,0,point-20);
            //spd += 0.5;
            scr_playsnd(snd_en_shot4,1);
            }      
        if attack3_timer = 0
            {
            spd = 3;
            attack3_timer = 120; 
            attack3_end += 0.25;
            }
        break; 
        }
    case 6:
        {
        if direction &gt; 90 &amp;&amp; direction &lt; 270 then direction -= 5;
        if direction &lt; 90 || direction &gt; 270 then direction += 5;
        if y &lt; yview-sprite_height/2 then instance_destroy();
        break;
        }
    }

// ********Health-related Patterns*********
if enemyHP &lt;= 100 then insaneattack -= 1; 
if insaneattack = 0
    {
    insaneattack = 90;
    blast = scr_basicshot(x,y,obj_bullet_shoot,0,0);
    blast.btype = 3;
    }
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="25">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>speed = 0;
image_speed = 0.25;
obj_boss.orb2_dead = 1;

scr_addscore(7500,180,1);
scr_playsnd(snd_exp3,0);

// Contra Yagawa Corps Eksploshunz by Michael Bay!
scr_create_exp(obj_explosion,360,18);
instance_destroy();
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
